CREATE TABLE products(  id           bigserial PRIMARY KEY,
                        title       varchar(255),
                        created_at  timestamp default current_timestamp,
                        updated_at  timestamp default current_timestamp);
INSERT INTO products (title) VALUES
('product_1'),
('product_2'),
('product_3'),
('product_4'),
('product_5'),
('product_6'),
('product_7'),
('product_8'),
('product_9'),
('product_10'),
('product_11'),
('product_12'),
('product_13'),
('product_14'),
('product_15'),
('product_16'),
('product_17'),
('product_18'),
('product_19'),
('product_20');

CREATE TABLE prices(product_id bigint not null,
                    date date not null,
                    price int default 0,
                    foreign key (product_id) references products (id),
                    unique (product_id, date));

INSERT INTO prices(product_id, date, price) VALUES
(1, '2020-01-27', 1),
(1, '2020-01-28', 111),
(2, '2020-01-27', 2),
(3, '2020-01-27', 3),
(4, '2020-01-27', 4),
(5, '2020-01-27', 5),
(6, '2020-01-27', 6),
(7, '2020-01-27', 7),
(8, '2020-01-27', 8),
(9, '2020-01-27', 9),
(10, '2020-01-27', 10),
(11, '2020-01-27', 11),
(12, '2020-01-27', 12),
(13, '2020-01-27', 13),
(14, '2020-01-27', 14),
(15, '2020-01-27', 15),
(16, '2020-01-27', 16),
(17, '2020-01-27', 17),
(18, '2020-01-27', 18),
(19, '2020-01-27', 19),
(20, '2020-01-27', 20);